{"version":3,"sources":["views/Presale/components/Hero.tsx","views/Presale/components/LabelButton.tsx","views/Presale/components/ContributeModal.tsx","views/Presale/components/PresaleContribute.tsx","views/Presale/components/Divider.tsx","views/Presale/Presale.tsx"],"names":["StyledHero","styled","Heading","attrs","as","size","Text","theme","colors","secondary","div","gradients","bubblegum","StyledContainer","Container","mediaQueries","sm","xs","lg","StyledText","Hero","useI18n","color","ButtonWrapper","radii","default","borderColor","LabelButton","value","label","buttonLabel","onClick","disabled","fontSize","bold","ContributeModal","currency","contract","currencyAddress","onDismiss","useState","setValue","pendingTx","setPendingTx","account","useWallet","balance","getFullDisplayBalance","useTokenBalance","console","log","title","BalanceInput","onChange","e","currentTarget","symbol","max","onSelectMax","toString","justifyContent","mb","fullWidth","variant","mr","a","methods","buy","BigNumber","times","pow","send","from","href","style","margin","StyledPreSaleCard","Card","Row","RowItem","PresaleContribute","address","status","raisingAmount","tokenDecimals","setClaimTokenBalance","setClaimed","amount","setAmount","isActive","setActive","total","setTotal","unclaimToken","setUnclaimToken","ownToken","setOwnToken","totalSoldToken","setTotalSoldToken","leftToken","setLeftToken","contractRaisingToken","useERC20","allowance","usePreSaleAllowance","onApprove","usePreSaleApprove","useModal","onPresentContributeModal","useEffect","fetchV","claimActive","call","_claimed","saleActive","_active","getSAPTokensLeft","_total","getTotalTokensSold","_totalSoldToken","_leftToken","minus","getTokensUnclaimed","getTokensOwned","_amount","_unclaimToken","_ownToken","fetch","claim","claimTokens","isFinished","textAlign","error","UnlockButton","getBalanceNumber","toFixed","Spacer","CardValue","decimals","prefix","textSubtle","Presale","presaleContract","usePreSaleContract","Page","Divider"],"mappings":"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","file":"static/js/19.a616ea1b.chunk.js","sourcesContent":["import React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Heading, Text } from '@pancakeswap-libs/uikit'\r\nimport useI18n from 'hooks/useI18n'\r\nimport Container from 'components/layout/Container'\r\n\r\nconst Title = styled(Heading).attrs({ as: 'h1', size: 'xl' })`\r\n  color: 'white';\r\n  margin-bottom: 24px;\r\n  font-size: 32px;\r\n`\r\n\r\nconst Blurb = styled(Text)`\r\n  color: ${({ theme }) => theme.colors.secondary};\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n`\r\n\r\nconst StyledHero = styled.div`\r\n  // background-image: linear-gradient(180deg, #53dee9 0%, #1fc7d4 100%);\r\n  // background-image: ${({ theme }) => theme.colors.gradients.bubblegum};\r\n  padding-bottom: 30px;\r\n  padding-top: 30px;\r\n  flex-direction: row;\r\n`\r\n\r\nconst StyledContainer = styled(Container)`\r\n  flex: 1;\r\n  // padding-right: 0;\r\n  text-align: center;\r\n  // background-image: url(/images/egg/2d.png);\r\n  background-repeat: no-repeat;\r\n  background-position: center center;\r\n  padding-bottom: 120px;\r\n  padding-top: 80px;\r\n  display: flex;\r\n  flex-direction: row;\r\n\r\n  ${({ theme }) => theme.mediaQueries.sm} {\r\n    padding-right: 24px;\r\n    background-image: url(/images/egg/LogoTextNewWhite.png);\r\n  }\r\n\r\n  ${({ theme }) => theme.mediaQueries.xs} {\r\n    padding-right: 24px;\r\n    background-image: url(/images/egg/LogoTextNewWhite.png);\r\n  }\r\n\r\n  ${({ theme }) => theme.mediaQueries.lg} {\r\n    padding-right: 32px;\r\n    background-image: url(/images/egg/2d.png);\r\n  }\r\n`\r\nconst StyledText = styled.div`\r\ndisplay: block;\r\ntext-align: center;\r\n`\r\n\r\nconst Hero = () => {\r\n  const TranslateString = useI18n()\r\n\r\n  return (\r\n    <StyledHero>\r\n      <StyledContainer>\r\n        {/* <Title>{TranslateString(20000, 'PreSale')}</Title> */}\r\n        {/* <Blurb>{TranslateString(999, `Share the referral link below to invite your friends and earn 3% of your friends' earnings FOREVER!`)}</Blurb> */}\r\n      </StyledContainer>\r\n      <StyledText>\r\n        <Heading color='#000'>\r\n        Sapphire token is at the heart of the Sapphire defi ecosystem.\r\n        <br /> Buy it, spend it, stake it... heck, you can even vote with it!\r\n        </Heading>\r\n      </StyledText>      \r\n    </StyledHero>\r\n  )\r\n}\r\n\r\nexport default Hero\r\n","import React, { ButtonHTMLAttributes } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Button, Text } from '@pancakeswap-libs/uikit'\r\n\r\ninterface Props extends ButtonHTMLAttributes<HTMLButtonElement> {\r\n  value: string\r\n  label?: string\r\n  buttonLabel: string\r\n  disabled?: boolean\r\n}\r\n\r\nconst ButtonWrapper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  border: solid 1px;\r\n  border-radius: ${({ theme }) => theme.radii.default};\r\n  border-color: ${({ theme }) => theme.colors.borderColor};\r\n  padding-left: 16px;\r\n`\r\n\r\nconst LabelButton: React.FC<Props> = ({ value, label, buttonLabel, onClick, disabled = false }) => {\r\n  return (\r\n    <div>\r\n      {label && (\r\n        <Text fontSize=\"14px\" color=\"#ddd\">\r\n          {label}\r\n        </Text>\r\n      )}\r\n      <ButtonWrapper>\r\n        <Text bold fontSize=\"20px\" color=\"#ddd\">\r\n          {value}\r\n        </Text>\r\n        <Button onClick={onClick} disabled={disabled}>\r\n          {buttonLabel}\r\n        </Button>\r\n      </ButtonWrapper>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default LabelButton\r\n","import React, { useState } from 'react'\r\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\r\nimport BigNumber from 'bignumber.js'\r\nimport { Modal, Button, Flex, LinkExternal } from '@pancakeswap-libs/uikit'\r\nimport BalanceInput from 'components/Input/BalanceInput'\r\nimport useTokenBalance from 'hooks/useTokenBalance'\r\nimport { getFullDisplayBalance } from 'utils/formatBalance'\r\n\r\ninterface Props {\r\n  currency: string\r\n  contract: any\r\n  currencyAddress: string\r\n  onDismiss?: () => void\r\n}\r\n\r\nconst ContributeModal: React.FC<Props> = ({ currency, contract, currencyAddress, onDismiss }) => {\r\n  const [value, setValue] = useState('')\r\n  const [pendingTx, setPendingTx] = useState(false)\r\n  const { account } = useWallet()\r\n  const balance = getFullDisplayBalance(useTokenBalance(currencyAddress), 18)\r\n  console.log('debug->value',value)\r\n \r\n  return (\r\n    <Modal title={`Contribute ${currency}`} onDismiss={onDismiss}>\r\n      <BalanceInput\r\n        value={value}\r\n        onChange={(e) => setValue(e.currentTarget.value)}\r\n        symbol={currency}\r\n        max={balance}\r\n        onSelectMax={() => setValue(balance.toString())}\r\n      />\r\n      <Flex justifyContent=\"space-between\" mb=\"24px\">\r\n        <Button fullWidth variant=\"secondary\" onClick={onDismiss} mr=\"8px\">\r\n          Cancel\r\n        </Button>\r\n        <Button\r\n          fullWidth\r\n          disabled={pendingTx}\r\n          onClick={async () => {            \r\n            setPendingTx(true)\r\n            await contract.methods\r\n              .buy(new BigNumber(value).times(new BigNumber(10).pow(18)).toString()).send({from: account})\r\n              \r\n            setPendingTx(false)\r\n            onDismiss()\r\n          }}\r\n        >\r\n          Confirm\r\n        </Button>\r\n      </Flex>\r\n      <LinkExternal\r\n        href=\"https://pancakeswap.finance/swap?outputCurrency=0xe9e7cea3dedca5984780bafc599bd69add087d56\"\r\n        style={{ margin: 'auto' }}\r\n      >\r\n        {`Get ${currency}`}\r\n      </LinkExternal>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default ContributeModal\r\n","import React, { useState, useEffect } from 'react'\r\nimport { useModal, Button, Heading, Card, Text } from '@pancakeswap-libs/uikit'\r\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\r\nimport styled from 'styled-components'\r\nimport BigNumber from 'bignumber.js'\r\nimport { Contract } from 'web3-eth-contract'\r\nimport { useERC20 } from 'hooks/useContract'\r\nimport { IfoStatus } from 'config/constants/types'\r\nimport UnlockButton from 'components/UnlockButton'\r\nimport { usePreSaleApprove } from 'hooks/useApprove'\r\nimport { usePreSaleAllowance } from 'hooks/useAllowance'\r\nimport { getBalanceNumber } from 'utils/formatBalance'\r\nimport useI18n from 'hooks/useI18n'\r\nimport CardValue from 'views/Home/components/CardValue'\r\nimport Spacer from 'components/Spacer'\r\nimport LabelButton from './LabelButton'\r\nimport ContributeModal from './ContributeModal'\r\n\r\nconst StyledPreSaleCard = styled(Card)`\r\n  padding: 32px 16px 16px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  max-width: 437px;\r\n  width: 100%;\r\n  border-radius: 16px;\r\n  margin-top: 16px;\r\n  ${({ theme }) => theme.mediaQueries.sm} {\r\n    padding: 32px 16px 16px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    max-width: 437px;\r\n    width: 100%;\r\n    border-radius: 16px;\r\n  }\r\n`\r\nconst Row = styled.div`\r\n  display: block;\r\n  padding-top: 10px;\r\n  ${({ theme }) => theme.mediaQueries.sm} {\r\n    display: flex;\r\n  }\r\n`\r\nconst RowItem = styled.div`\r\n  display: flex;\r\n  padding-top: 16px;\r\n`\r\n\r\nexport interface Props {\r\n  address: string\r\n  currency: string\r\n  currencyAddress: string\r\n  contract: Contract\r\n  status?: IfoStatus\r\n  raisingAmount?: BigNumber\r\n  tokenDecimals: number\r\n}\r\n\r\nconst PresaleContribute: React.FC<Props> = ({\r\n  address,\r\n  currency,\r\n  currencyAddress,\r\n  contract,\r\n  status,\r\n  raisingAmount,\r\n  tokenDecimals,\r\n}) => {\r\n  const [pendingTx, setPendingTx] = useState(false)\r\n  const [claimTokenBalance, setClaimTokenBalance] = useState(new BigNumber(0))\r\n\r\n  const [claimed, setClaimed] = useState(false)\r\n  const [amount, setAmount] = useState(new BigNumber(0))\r\n  const [isActive, setActive] = useState(true)\r\n  const { account } = useWallet()\r\n  const [total, setTotal] = useState(new BigNumber(0))\r\n  const [unclaimToken, setUnclaimToken] = useState(new BigNumber(0))\r\n  const [ownToken, setOwnToken] = useState(new BigNumber(0))\r\n  const [totalSoldToken, setTotalSoldToken] = useState(new BigNumber(0))\r\n  const [leftToken, setLeftToken] = useState(new BigNumber(0))\r\n  const contractRaisingToken = useERC20(currencyAddress)\r\n  const allowance = usePreSaleAllowance(contractRaisingToken, address, pendingTx)\r\n  const onApprove = usePreSaleApprove(contractRaisingToken, address)\r\n  const [onPresentContributeModal] = useModal(\r\n    <ContributeModal currency={currency} contract={contract} currencyAddress={currencyAddress} />,\r\n  )\r\n\r\n  const TranslateString = useI18n()\r\n\r\n  useEffect(() => {\r\n    const fetchV = async () => {\r\n      const _claimed = await contract.methods.claimActive().call()\r\n      const _active = await contract.methods.saleActive().call()\r\n      const _total = await contract.methods.getSAPTokensLeft().call()\r\n      \r\n      const _totalSoldToken = await contract.methods.getTotalTokensSold().call()\r\n      console.log('debug->_total', _totalSoldToken)\r\n\r\n      const _leftToken = new BigNumber(_total).minus(new BigNumber(_totalSoldToken))\r\n      setClaimed(_claimed)\r\n      setActive(_active)\r\n      setLeftToken(_leftToken)\r\n      setTotalSoldToken(_totalSoldToken)\r\n      setTotal(_total)\r\n    }\r\n\r\n    const fetch = async () => {\r\n      const balance = new BigNumber(await contract.methods.getTokensUnclaimed(account).call())\r\n\r\n      const _claimed = await contract.methods.claimActive().call()\r\n      const _amount = await contract.methods.getTokensOwned(account).call()\r\n\r\n      const _active = await contract.methods.saleActive().call()\r\n      const _total = await contract.methods.getSAPTokensLeft().call()\r\n\r\n      const _unclaimToken = await contract.methods.getTokensUnclaimed(account).call()\r\n      const _ownToken = await contract.methods.getTokensOwned(account).call()\r\n      const _totalSoldToken = await contract.methods.getTotalTokensSold().call()\r\n      const _leftToken = new BigNumber(_total).minus(new BigNumber(_totalSoldToken))\r\n\r\n      console.log('debug->_total', _leftToken, _ownToken, _totalSoldToken, _total)\r\n\r\n      setClaimed(_claimed)\r\n      setClaimTokenBalance(balance)\r\n      setAmount(_amount)\r\n      setActive(_active)\r\n      setLeftToken(_leftToken)\r\n      setUnclaimToken(_unclaimToken)\r\n      setOwnToken(_ownToken)\r\n      setTotalSoldToken(_totalSoldToken)\r\n      setTotal(_total)\r\n    }\r\n\r\n    if (account) {\r\n      fetch()\r\n    }\r\n    fetchV()\r\n  }, [account, contract.methods, pendingTx])\r\n  // console.log('debug-allow', allowance)\r\n\r\n  // if (allowance === null) {\r\n  //   return null\r\n  // }\r\n\r\n  // const { onClaim } = useClaim()\r\n  const claim = async () => {\r\n    setPendingTx(true)\r\n    await contract.methods.claimTokens().send({ from: account })\r\n    setPendingTx(false)\r\n  }\r\n\r\n  const isFinished = false\r\n\r\n  return (\r\n    <>\r\n      {!isActive && (\r\n        <Heading color=\"#000\" size=\"lg\" style={{ textAlign: 'center' }}>\r\n          Presale is not active\r\n        </Heading>\r\n      )}\r\n      <Row>\r\n        <StyledPreSaleCard>\r\n          <Heading color=\"#ddd\" size=\"lg\" mb=\"24px\" style={{ textAlign: 'center' }}>\r\n            Buy{' '}\r\n          </Heading>\r\n          {account && allowance <= 0 && (\r\n            <Button\r\n              fullWidth\r\n              disabled={pendingTx || isFinished}\r\n              onClick={async () => {\r\n                try {\r\n                  setPendingTx(true)\r\n                  await onApprove()\r\n                  setPendingTx(false)\r\n                } catch (e) {\r\n                  setPendingTx(false)\r\n                  console.error(e)\r\n                }\r\n              }}\r\n            >\r\n              Approve\r\n            </Button>\r\n          )}\r\n          {!account && <UnlockButton fullWidth />}\r\n          {account && allowance > 0 && (\r\n            <LabelButton\r\n              disabled={pendingTx || !(isActive || isFinished)}\r\n              buttonLabel=\"Contribute\"\r\n              label={isFinished ? 'Your tokens to claim' : `Your contribution (SAP)`}\r\n              value={\r\n                // eslint-disable-next-line no-nested-ternary\r\n                isFinished\r\n                  ? claimed\r\n                    ? 'Claimed'\r\n                    : getBalanceNumber(claimTokenBalance, tokenDecimals).toFixed(4)\r\n                  : getBalanceNumber(new BigNumber(amount).times(1)).toFixed(4)\r\n              }\r\n              onClick={onPresentContributeModal}\r\n            />\r\n          )}\r\n        </StyledPreSaleCard>\r\n        <Spacer size=\"sm\" />\r\n        <StyledPreSaleCard>\r\n          <Heading color=\"#ddd\" size=\"lg\" mb=\"24px\" style={{ textAlign: 'center' }}>\r\n            Claim{' '}\r\n          </Heading>\r\n\r\n          {!account && <UnlockButton fullWidth />}\r\n          {account && (\r\n            <LabelButton\r\n              disabled={pendingTx || unclaimToken <= new BigNumber(0) || !(isActive || isFinished)}\r\n              buttonLabel=\"Claim\"\r\n              label=\"Your tokens to claim (SAP)\"\r\n              value={\r\n                // eslint-disable-next-line no-nested-ternary\r\n                isFinished\r\n                  ? claimed\r\n                    ? 'Claimed'\r\n                    : getBalanceNumber(unclaimToken, tokenDecimals).toFixed(4)\r\n                  : getBalanceNumber(new BigNumber(unclaimToken)).toFixed(4)\r\n              }\r\n              onClick={claim}\r\n            />\r\n          )}\r\n        </StyledPreSaleCard>\r\n      </Row>\r\n      <Row>\r\n        <StyledPreSaleCard>\r\n          <Heading color=\"#ddd\" size=\"lg\" mb=\"24px\" style={{ textAlign: 'center' }}>\r\n            Info{' '}\r\n          </Heading>\r\n          <hr />\r\n          <RowItem>\r\n            <Text color=\"#ddd\" mr=\"16px\">Purchased SAP:</Text>\r\n            <CardValue value={getBalanceNumber(ownToken, 9)} decimals={0} fontSize=\"16px\"/>\r\n          </RowItem>\r\n          <RowItem>\r\n            <Text color=\"#ddd\" mr=\"16px\">Unclaimed SAP:</Text>\r\n            <CardValue value={getBalanceNumber(unclaimToken, 9)} decimals={0} fontSize=\"16px\" />\r\n          </RowItem>\r\n          <hr />\r\n          <RowItem>\r\n            <Text color=\"#ddd\" mr=\"16px\">Total SAP:</Text>\r\n            <CardValue value={getBalanceNumber(total, 9)} decimals={0} fontSize=\"16px\" />\r\n          </RowItem>\r\n          <RowItem>\r\n            <Text color=\"#ddd\" mr=\"16px\">Total SAP Sold:</Text>\r\n            <CardValue value={getBalanceNumber(totalSoldToken, 9)} decimals={0} fontSize=\"16px\" />\r\n          </RowItem>\r\n          <hr />\r\n          <RowItem>\r\n            <Text color=\"#ddd\" mr=\"16px\">\r\n              SAP Left:\r\n            </Text>\r\n            <CardValue value={getBalanceNumber(leftToken, 9)} decimals={0} fontSize=\"18px\" />\r\n          </RowItem>\r\n        </StyledPreSaleCard>\r\n        <Spacer size=\"sm\" />\r\n        <StyledPreSaleCard>\r\n          <Heading color=\"#ddd\" size=\"lg\" mb=\"24px\" style={{ textAlign: 'center' }}>\r\n            PreSale{' '}\r\n          </Heading>\r\n          <RowItem>\r\n            <Text color=\"#ddd\" fontSize=\"18px\" mr=\"16px\">\r\n              - SAP Presale Price:{' '}\r\n            </Text>\r\n            <CardValue fontSize=\"18px\" value={7} decimals={2} prefix=\"$\" />\r\n          </RowItem>\r\n          <RowItem>\r\n            <Text color=\"#ddd\" fontSize=\"18px\" mr=\"16px\">\r\n              - SAP Launch Price:{' '}\r\n            </Text>\r\n            <CardValue fontSize=\"18px\" value={10} decimals={2} prefix=\"$\" />\r\n          </RowItem>\r\n\r\n          <RowItem>\r\n            <Text color=\"#ddd\" fontSize=\"15px\" mr=\"16px\">\r\n              - Minimum Contribution - 7 BUSD (1 SAP)\r\n            </Text>\r\n          </RowItem>\r\n          <RowItem>\r\n            <Text color=\"#ddd\" fontSize=\"15px\" mr=\"16px\">\r\n              - Maximum Contribution - 7000 BUSD (1000 SAP)\r\n            </Text>\r\n          </RowItem>\r\n          <RowItem>\r\n            <Text color=\"#ddd\" fontSize=\"15px\" mr=\"16px\">\r\n              - HardCap - 500000 BUSD (70000 SAP)\r\n            </Text>\r\n          </RowItem>\r\n        </StyledPreSaleCard>\r\n      </Row>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PresaleContribute\r\n","import styled from 'styled-components'\r\n\r\nexport default styled.div`\r\n  background-color: ${({ theme }) => theme.colors.textSubtle};\r\n  height: 1px;\r\n  margin: 0 auto;\r\n  width: 100%;\r\n`\r\n","import React from 'react'\r\nimport { useWallet } from '@binance-chain/bsc-use-wallet'\r\nimport styled from 'styled-components'\r\nimport { BaseLayout } from '@pancakeswap-libs/uikit'\r\nimport Page from 'components/layout/Page'\r\nimport { usePreSaleContract } from 'hooks/useContract'\r\nimport Hero from './components/Hero'\r\nimport PresaleContribute from './components/PresaleContribute'\r\nimport Divider from './components/Divider'\r\n\r\n\r\nconst Presale = () => {\r\n  const { account } = useWallet()\r\n  // presale contract address\r\n  const presaleContract = \"0xf02dC51C80f69c8AB4cC37Cd4834B834E7EBb2CB\"\r\n  // token address\r\n  const currencyAddress = \"0xe9e7cea3dedca5984780bafc599bd69add087d56\"\r\n  const contract = usePreSaleContract(presaleContract)\r\n  return(\r\n    <>\r\n      <Page>\r\n      <Hero />\r\n      <Divider />\r\n      <PresaleContribute\r\n        address = {presaleContract}\r\n        currency = \"BUSD\"\r\n        currencyAddress = {currencyAddress}\r\n        tokenDecimals = {18}\r\n        contract = {contract}\r\n      />\r\n      </Page>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Presale\r\n"],"sourceRoot":""}